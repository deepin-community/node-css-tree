{
    "ruleset.0": {
        "source": "s{p:v}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.1": {
        "source": "s{p0:v0;p1:v1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p0",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v0"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p1",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.2": {
        "source": "s0,s1{p:v}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s0"
                            }
                        ]
                    },
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s1"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.3": {
        "source": "s0,s1{p0:v0;p1:v1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s0"
                            }
                        ]
                    },
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s1"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p0",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v0"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p1",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.4": {
        "source": ".test{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale');color:red}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "ClassSelector",
                                "name": "test"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "filter",
                        "value": {
                            "type": "Raw",
                            "value": "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale')"
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "color",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "red"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.5": {
        "source": ".test{color:red;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale') progid:DXImageTransform.Microsoft.AlphaImageLoader(src='test.png',sizingMethod='test')}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "ClassSelector",
                                "name": "test"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "color",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "red"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "filter",
                        "value": {
                            "type": "Raw",
                            "value": "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale') progid:DXImageTransform.Microsoft.AlphaImageLoader(src='test.png',sizingMethod='test')"
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.6": {
        "source": ".test\n{\rcolor:red;\r\n}",
        "generate": ".test{color:red}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "ClassSelector",
                                "name": "test"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "color",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "red"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "declaration with //": {
        "source": ".test{//color:red}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "ClassSelector",
                                "name": "test"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "//color",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "red"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.c.0": {
        "source": "s/*test*/{/*test*/p/*test*/:/*test*/v/*test*/}",
        "generate": "s{p:v}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.c.1": {
        "source": "s/*test*/{/*test*/p0/*test*/:/*test*/v0/*test*/;/*test*/p1/*test*/:/*test*/v1/*test*/}",
        "generate": "s{p0:v0;p1:v1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p0",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v0"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p1",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.c.2": {
        "source": "s0/*test*/,/*test*/s1/*test*/{/*test*/p/*test*/:/*test*/v/*test*/}",
        "generate": "s0,s1{p:v}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s0"
                            }
                        ]
                    },
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s1"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.c.3": {
        "source": "s0/*test*/,/*test*/s1/*test*/{/*test*/p0/*test*/:/*test*/v0/*test*/;/*test*/p1/*test*/:/*test*/v1/*test*/}",
        "generate": "s0,s1{p0:v0;p1:v1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s0"
                            }
                        ]
                    },
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s1"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p0",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v0"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p1",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.0": {
        "source": "s  {  p  :  v  }",
        "generate": "s{p:v}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.1": {
        "source": "s  {  p0  :  v0  ;  p1  :  v1  }",
        "generate": "s{p0:v0;p1:v1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p0",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v0"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p1",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.2": {
        "source": "s0  ,  s1  {  p  :  v  }",
        "generate": "s0,s1{p:v}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s0"
                            }
                        ]
                    },
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s1"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.3": {
        "source": "s0  ,  s1  {  p0  :  v0  ;  p1  :  v1  }",
        "generate": "s0,s1{p0:v0;p1:v1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s0"
                            }
                        ]
                    },
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s1"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p0",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v0"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p1",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "v1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.4": {
        "source": ".test {\n    filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale');\n    color:red\n}",
        "generate": ".test{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale');color:red}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "ClassSelector",
                                "name": "test"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "filter",
                        "value": {
                            "type": "Raw",
                            "value": "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale')"
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "color",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "red"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "ruleset.s.5": {
        "source": ".test {\n    color:red;\n    filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale')\n           progid:DXImageTransform.Microsoft.AlphaImageLoader(src='test.png',sizingMethod='test')\n}",
        "generate": ".test{color:red;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale')\n           progid:DXImageTransform.Microsoft.AlphaImageLoader(src='test.png',sizingMethod='test')}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "ClassSelector",
                                "name": "test"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "color",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "red"
                                }
                            ]
                        }
                    },
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "filter",
                        "value": {
                            "type": "Raw",
                            "value": "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/transparent-border.png',sizingMethod='scale')\n           progid:DXImageTransform.Microsoft.AlphaImageLoader(src='test.png',sizingMethod='test')"
                        }
                    }
                ]
            }
        }
    },
    "value.color.ident.0": {
        "source": "s{p:yellow}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "s"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "yellow"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "value.color.ident.1": {
        "source": "yellow{p:yellow}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "SelectorList",
                "children": [
                    {
                        "type": "Selector",
                        "children": [
                            {
                                "type": "TypeSelector",
                                "name": "yellow"
                            }
                        ]
                    }
                ]
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "p",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "yellow"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "shouldn't parse a selector when parseRulePrelude is false": {
        "options": {
            "parseRulePrelude": false
        },
        "source": ".foo, a:not(a = b) { foo: 1; }",
        "generate": ".foo, a:not(a = b){foo:1}",
        "ast": {
            "type": "Rule",
            "prelude": {
                "type": "Raw",
                "value": ".foo, a:not(a = b)"
            },
            "block": {
                "type": "Block",
                "children": [
                    {
                        "type": "Declaration",
                        "important": false,
                        "property": "foo",
                        "value": {
                            "type": "Value",
                            "children": [
                                {
                                    "type": "Number",
                                    "value": "1"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    }
}
